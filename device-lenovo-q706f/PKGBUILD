pkgname=device-lenovo-q706f
pkgver=0.0.1
pkgrel=0
pkgdesc="OnePlus fajita sensors udev rules for controllers"
arch=('aarch64')
license=('MIT')
depends=('udev')
backup=('etc/hexagonrpcd/hexagonrpcd-sdsp.conf')
source=("81-libssc-lenovo-q706f.rules"
        "hexagonrpcd.conf"
        "q706f.conf"
        "HiFi.conf"
        "device-lenovo-q706f.install")
sha256sums=('ea3522e8e54577940bf3a65bf448d7b1d8b11a81d032cc7761daceee9c04d28e'
            'f2bfc8f5b67787aebd6f6c82d1da5698ca13039c4f1760b6be655822b057ca67'
            'c073c55462f4d4fc97d850781a5f1f5533ccd765549a05fef366122861696222'
            '33eb6e7970cb14c62be6f33ee9ee991356b613b51e6dc6983371d23bc1f02005'
            '844d2b8e161222e8b44193cb70a41a1446a37beee48c228b9ba36e5c97b2594d')

package() {
    install="${pkgname}.install"
    # install udev rules
    install -Dm644  "${srcdir}"/*.rules \
        -t "${pkgdir}/usr/lib/udev/rules.d/"
    # install seneors config
    install -Dm644 "${srcdir}"/hexagonrpcd.conf "$pkgdir/etc/hexagonrpcd/hexagonrpcd-sdsp.conf"
    # device-specific alsa ucm conf
	install -Dm644 "$srcdir/q706f.conf" \
		"$pkgdir/usr/share/alsa/ucm2/Lenovo/q706f/q706f.conf"

	install -Dm644 "$srcdir/HiFi.conf" \
		"$pkgdir/usr/share/alsa/ucm2/Lenovo/q706f/HiFi.conf"

	mkdir -p "$pkgdir/usr/share/alsa/ucm2/conf.d/sm8250"
	ln -s ../../Lenovo/q706f/q706f.conf \
		"$pkgdir/usr/share/alsa/ucm2/conf.d/sm8250/Xiaoxin Pad Pro.conf"

}